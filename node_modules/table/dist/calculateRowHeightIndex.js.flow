<<<<<<< HEAD
import _ from 'lodash';
=======
import isBoolean from 'is-boolean-object';
import isNumber from 'is-number-object';
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
import calculateCellHeight from './calculateCellHeight';

/**
 * Calculates the vertical row span index.
 *
 * @param {Array[]} rows
<<<<<<< HEAD
 * @param {Object} config
=======
 * @param {object} config
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
 * @returns {number[]}
 */
export default (rows, config) => {
  const tableWidth = rows[0].length;

  const rowSpanIndex = [];

  rows.forEach((cells) => {
    const cellHeightIndex = new Array(tableWidth).fill(1);

    cells.forEach((value, index1) => {
<<<<<<< HEAD
      if (!_.isNumber(config.columns[index1].width)) {
        throw new TypeError('column[index].width must be a number.');
      }

      if (!_.isBoolean(config.columns[index1].wrapWord)) {
=======
      if (!isNumber(config.columns[index1].width)) {
        throw new TypeError('column[index].width must be a number.');
      }

      if (!isBoolean(config.columns[index1].wrapWord)) {
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
        throw new TypeError('column[index].wrapWord must be a boolean.');
      }

      cellHeightIndex[index1] = calculateCellHeight(value, config.columns[index1].width, config.columns[index1].wrapWord);
    });

<<<<<<< HEAD
    rowSpanIndex.push(_.max(cellHeightIndex));
=======
    rowSpanIndex.push(Math.max(...cellHeightIndex));
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
  });

  return rowSpanIndex;
};
