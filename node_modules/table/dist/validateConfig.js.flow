<<<<<<< HEAD
// eslint-disable-next-line import/default
import validateConfig from '../dist/validateConfig';
// eslint-disable-next-line import/default
import validateStreamConfig from '../dist/validateStreamConfig';

const validate = {
  'config.json': validateConfig,
  'streamConfig.json': validateStreamConfig
};
=======
import validators from '../dist/validators';
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f

/**
 * @param {string} schemaId
 * @param {formatData~config} config
 * @returns {undefined}
 */
export default (schemaId, config = {}) => {
<<<<<<< HEAD
  if (!validate[schemaId](config)) {
    const errors = validate[schemaId].errors.map((error) => {
=======
  const validate = validators[schemaId];
  if (!validate(config)) {
    const errors = validate.errors.map((error) => {
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
      return {
        dataPath: error.dataPath,
        message: error.message,
        params: error.params,
<<<<<<< HEAD
        schemaPath: error.schemaPath
=======
        schemaPath: error.schemaPath,
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
      };
    });

    /* eslint-disable no-console */
    console.log('config', config);
    console.log('errors', errors);
    /* eslint-enable no-console */

    throw new Error('Invalid config.');
  }
};
