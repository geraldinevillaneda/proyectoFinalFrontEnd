{"ast":null,"code":"var _jsxFileName = \"E:\\\\Repaldo\\\\Univalle\\\\Ingenieria\\\\Semestre 12\\\\SaaS\\\\Proyecto\\\\proyectoFinalFrontEnd\\\\src\\\\pages\\\\Sede\\\\createSede.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport '../Login/login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialFieldValues = {\n  ID_SEDE: '',\n  ESTADO: '',\n  NOMBRE_SEDE: '',\n  LATITUD: '',\n  LONGITUD: '',\n  ID_CIUDAD: '',\n  ID_USUARIO: '',\n  t001_usuarios_id_usuario: ''\n};\nexport default function CreateSede() {\n  _s();\n\n  const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\n  const [values, setValues] = useState(initialFieldValues);\n  const [ESTADO, setESTADO] = useState('');\n  const [NOMBRE_SEDE, setNOMBRE_SEDE] = useState('');\n  const [LATITUD, setLATITUD] = useState('');\n  const [LONGITUD, setLONGITUD] = useState('');\n  const [ID_CIUDAD, setID_CIUDAD] = useState('');\n  const [ID_USUARIO, setID_USUARIO] = useState('');\n  const url = window.location.href;\n  const navigator = useHistory();\n  let crear = false;\n\n  if (url.includes('crear/Sede')) {\n    crear = true;\n  } else {\n    crear = false;\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const token = valores.datos.token;\n    fetch('http://localhost:5000/sedes/' + datosSedes.datos.id_sede, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          values.ESTADO = result.datos.ESTADO;\n          values.NOMBRE_SEDE = result.datos.NOMBRE_SEDE;\n          values.LATITUD = result.datos.LATITUD;\n          values.LONGITUD = result.datos.LONGITUD;\n          values.ID_CIUDAD = result.datos.ID_CIUDAD;\n          values.ID_USUARIO = result.datos.ID_USUARIO;\n        } else {\n          if (!result.token) {\n            navigator.push('/login');\n            alert(\"El tiempo de sesion expiro\");\n          } else {\n            alert(result.done);\n          }\n        }\n      });\n    });\n  }\n  /* const handleSubmitActualizar = (e) =>\r\n  {\r\n      e.preventDefault();\r\n      \r\n      const data = {\r\n          id:datosGasolineria.datos.id,\r\n          nombre_estacion: document.getElementById(\"nombre\").value,\r\n          direccion_estacion:document.getElementById(\"direccion\").value,\r\n          telefono_estacion:document.getElementById(\"telefono\").value,\r\n          latitud_estacion:document.getElementById(\"lactitud\").value,\r\n          longitud_estacion:document.getElementById(\"longitud\").value,\r\n      };\r\n      console.log(data);\r\n      const valores = JSON.parse(sessionStorage.getItem('login'));\r\n      const token = valores.datos.token;\r\n        fetch(('http://localhost:5000/gasolineras/update/' + data.id) ,{\r\n          method:'POST',\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              'x-access-token': token\r\n          }\r\n      }).then((respuesta) => {\r\n          respuesta.json().then((result) => {\r\n              console.log(result)\r\n              \r\n              if(result.Auth)\r\n              {\r\n                  alert(result.done);\r\n                  sessionStorage.removeItem('estacion');\r\n                  sessionStorage.setItem('estacion', JSON.stringify({\r\n                      datos: data\r\n                  }));\r\n                  navigator.push('/datos/Estacion');\r\n              }\r\n              else\r\n              {\r\n                  if(!result.token)\r\n                  {\r\n                      navigator.push('/login');\r\n                      alert(\"El tiempo de sesion expiro\");\r\n                  }\r\n                  else\r\n                  {\r\n                      alert(result.done);\r\n                  }\r\n              }\r\n          })\r\n      })\r\n  }\r\n  */\n\n\n  const HandleSubmitCrear = e => {\n    e.preventDefault();\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const userID = valores.datos.id;\n    const token = valores.datos.token;\n    const data = {\n      ID_SEDE: datosSedes.datos.id_sede,\n      ESTADO: document.getElementById('estado').value,\n      NOMBRE_SEDE: document.getElementById('nombre_sede').value,\n      LATITUD: document.getElementById('latitud').value,\n      LONGITUD: document.getElementById('longitud').value,\n      ID_CIUDAD: document.getElementById('id_ciudad').value,\n      ID_USUARIO: userID,\n      t001_usuarios_id_usuario: userID\n    };\n    fetch('http://localhost:5000/sedes/agregar', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          alert(result.done);\n          navigator.push('/dashboard/overview');\n        } else {\n          alert(result.done);\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper fadeInDown\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"formContent\",\n      className: \"editarUsuario\",\n      children: [crear ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Nueva Sede\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"titulo\",\n          children: \"Formulario de ingreso de Sede\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Editar Sede\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"titulo\",\n          children: \"Editar Sede\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-3 formulario\",\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Estado de Sede\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setESTADO(e.target.value),\n            value: ESTADO,\n            className: \"form-select\",\n            id: \"estado\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setValues({\n              ESTADO: e.target.value\n            }),\n            value: values.ESTADO,\n            className: \"form-select\",\n            id: \"estado\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Nombre de la Sede\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setNOMBRE_SEDE(e.target.value),\n            value: NOMBRE_SEDE,\n            type: \"text\",\n            className: \"form-control\",\n            id: \"nombre_sede\",\n            placeholder: \"Nombre sede\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              NOMBRE_SEDE: e.target.value\n            }),\n            value: values.NOMBRE_SEDE,\n            type: \"text\",\n            className: \"form-control\",\n            id: \"nombre_sede\",\n            placeholder: \"Nombre sede\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Lactitud Estacion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setLATITUD(e.target.value),\n            value: LATITUD,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"latitud\",\n            placeholder: \"Latitud\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              LATITUD: e.target.value\n            }),\n            value: values.LATITUD,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"latitud\",\n            placeholder: \"Latitud\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"validationDefault03\",\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Longitud Estaci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setLONGITUD(e.target.value),\n            value: LONGITUD,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"longitud\",\n            placeholder: \"longitud\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              LONGITUD: e.target.value\n            }),\n            value: values.LONGITUD,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"longitud\",\n            placeholder: \"longitud\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateSede, \"s/xwggQFi5rKXKUe6kZPiNBQ1zQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateSede;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateSede\");","map":{"version":3,"sources":["E:/Repaldo/Univalle/Ingenieria/Semestre 12/SaaS/Proyecto/proyectoFinalFrontEnd/src/pages/Sede/createSede.js"],"names":["React","useState","useHistory","Helmet","initialFieldValues","ID_SEDE","ESTADO","NOMBRE_SEDE","LATITUD","LONGITUD","ID_CIUDAD","ID_USUARIO","t001_usuarios_id_usuario","CreateSede","datosSedes","JSON","parse","sessionStorage","getItem","values","setValues","setESTADO","setNOMBRE_SEDE","setLATITUD","setLONGITUD","setID_CIUDAD","setID_USUARIO","url","window","location","href","navigator","crear","includes","valores","token","datos","fetch","id_sede","method","headers","then","respuesta","json","result","Auth","push","alert","done","HandleSubmitCrear","e","preventDefault","userID","id","data","document","getElementById","value","body","stringify","target"],"mappings":"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","sourcesContent":["\r\nimport React, {useState} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {Helmet} from 'react-helmet';\r\n\r\nimport '../Login/login'\r\n\r\n\r\nconst initialFieldValues = \r\n{\r\n    ID_SEDE:'',\r\n    ESTADO:'',\r\n    NOMBRE_SEDE:'',\r\n    LATITUD:'',\r\n    LONGITUD:'',\r\n    ID_CIUDAD:'',\r\n    ID_USUARIO:'',\r\n    t001_usuarios_id_usuario:'',\r\n}\r\n\r\n\r\nexport default function CreateSede (){\r\n\r\n    \r\n    const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\r\n\r\n    const [values, setValues] = useState(initialFieldValues);\r\n\r\n    const [ESTADO,  setESTADO] = useState('');\r\n    const [NOMBRE_SEDE, setNOMBRE_SEDE] = useState('');\r\n    const [LATITUD, setLATITUD] = useState('');\r\n    const [LONGITUD, setLONGITUD] = useState('');\r\n    const [ID_CIUDAD, setID_CIUDAD] = useState('');\r\n    const [ID_USUARIO, setID_USUARIO] = useState('');\r\n    \r\n    const   url = window.location.href;\r\n    const navigator = useHistory();\r\n    let crear = false;\r\n\r\n\r\n    if(url.includes('crear/Sede'))\r\n    {\r\n        crear = true\r\n    }\r\n    else\r\n    {\r\n        \r\n        crear = false;\r\n\r\n\r\n        const valores =  JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n\r\n        fetch('http://localhost:5000/sedes/' + datosSedes.datos.id_sede, {\r\n            method: 'GET',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {           \r\n                    values.ESTADO = result.datos.ESTADO;\r\n                    values.NOMBRE_SEDE = result.datos.NOMBRE_SEDE;\r\n                    values.LATITUD = result.datos.LATITUD;\r\n                    values.LONGITUD = result.datos.LONGITUD;\r\n                    values.ID_CIUDAD = result.datos.ID_CIUDAD;\r\n                    values.ID_USUARIO = result.datos.ID_USUARIO;\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n    \r\n    /* const handleSubmitActualizar = (e) =>\r\n    {\r\n        e.preventDefault();\r\n        \r\n        const data = {\r\n            id:datosGasolineria.datos.id,\r\n            nombre_estacion: document.getElementById(\"nombre\").value,\r\n            direccion_estacion:document.getElementById(\"direccion\").value,\r\n            telefono_estacion:document.getElementById(\"telefono\").value,\r\n            latitud_estacion:document.getElementById(\"lactitud\").value,\r\n            longitud_estacion:document.getElementById(\"longitud\").value,\r\n        };\r\n        console.log(data);\r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n\r\n        fetch(('http://localhost:5000/gasolineras/update/' + data.id) ,{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                console.log(result)\r\n                \r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    sessionStorage.removeItem('estacion');\r\n                    sessionStorage.setItem('estacion', JSON.stringify({\r\n                        datos: data\r\n                    }));\r\n                    navigator.push('/datos/Estacion');\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n */\r\n    \r\n\r\n    const HandleSubmitCrear = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const userID = valores.datos.id;\r\n        const token = valores.datos.token;\r\n\r\n        const data = {\r\n\r\n            ID_SEDE: datosSedes.datos.id_sede,\r\n            ESTADO: document.getElementById('estado').value,\r\n            NOMBRE_SEDE: document.getElementById('nombre_sede').value,\r\n            LATITUD: document.getElementById('latitud').value,\r\n            LONGITUD: document.getElementById('longitud').value,\r\n            ID_CIUDAD: document.getElementById('id_ciudad').value,\r\n            ID_USUARIO: userID,\r\n            t001_usuarios_id_usuario: userID,\r\n        };\r\n\r\n\r\n        fetch('http://localhost:5000/sedes/agregar',{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    navigator.push('/dashboard/overview');\r\n                }\r\n                else\r\n                {\r\n                    alert(result.done);\r\n                }\r\n            \r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"wrapper fadeInDown\">\r\n            <div id=\"formContent\" className=\"editarUsuario\">\r\n                {crear ?\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Nueva Sede</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Formulario de ingreso de Sede</h2>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Editar Sede</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Editar Sede</h2>\r\n                    </>\r\n                }\r\n                <form className=\"row g-3 formulario\" autoComplete=\"off\" >\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Estado de Sede</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        {crear ?\r\n                            <select onChange={(e) => setESTADO(e.target.value)} value={ESTADO} \r\n                                    className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                            </select>\r\n                            :<select onChange={(e) => setValues(\r\n                                {\r\n                                    ESTADO: e.target.value,\r\n                                }\r\n                            )} value={values.ESTADO} className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                            </select>\r\n                        }\r\n                    </div>\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Nombre de la Sede</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setNOMBRE_SEDE(e.target.value)} value={NOMBRE_SEDE}  \r\n                                type=\"text\" className=\"form-control\" id=\"nombre_sede\" placeholder=\"Nombre sede\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    NOMBRE_SEDE:e.target.value,\r\n                                }\r\n                            )} value={values.NOMBRE_SEDE} type=\"text\" className=\"form-control\" id=\"nombre_sede\" placeholder=\"Nombre sede\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    \r\n                    <label className=\"form-label col-sm-4 labelForm\">Lactitud Estacion</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        { crear ?\r\n                            <input onChange={(e) => setLATITUD(e.target.value)} value={LATITUD} \r\n                                type=\"number\" className=\"form-control\" id=\"latitud\"  placeholder=\"Latitud\" required/>\r\n                            : <input onChange={(e) => setValues(\r\n                                {\r\n                                    LATITUD:e.target.value,\r\n                                }\r\n                            )} value={values.LATITUD} type=\"number\" className=\"form-control\" id=\"latitud\"  placeholder=\"Latitud\" required/>\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <label htmlFor=\"validationDefault03\" className=\"form-label col-sm-4 labelForm\">Longitud Estación</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        { crear ?\r\n                            <input onChange={(e) => setLONGITUD(e.target.value)} value={LONGITUD} \r\n                                type=\"number\" className=\"form-control\" id=\"longitud\"  placeholder=\"longitud\" required/>\r\n                            : <input onChange={(e) => setValues(\r\n                                {\r\n                                    LONGITUD:e.target.value,\r\n                                }\r\n                            )} value={values.LONGITUD} type=\"number\" className=\"form-control\" id=\"longitud\"  placeholder=\"longitud\" required/>\r\n                        }\r\n                    </div>\r\n\r\n                    {/* \r\n\r\n                        \r\n                    \r\n                    \r\n\r\n                    \r\n                    <label className=\"form-label col-sm-4 labelForm\">Dirección Estación</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setDireccion_estacion(e.target.value)} value={direccionEstacion}  \r\n                                type=\"text\" className=\"form-control\" id=\"direccion\" placeholder=\"direccion Estacion\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    id:values.id,\r\n                                    direccion_estacion:e.target.value,\r\n                                }\r\n                            )} value={values.direccion_estacion} type=\"text\" className=\"form-control\" id=\"direccion\" placeholder=\"direccion estacion\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    \r\n                    <label className=\"form-label col-sm-4 labelForm\">Telefono Estación</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setTelefono_estacion(e.target.value)} value={telefonoEstacion}  \r\n                                type=\"number\" className=\"form-control\" id=\"telefono\" placeholder=\"telefono Estacion\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    id:values.id,\r\n                                    telefono_estacion:e.target.value,\r\n                                }\r\n                            )} value={values.telefono_estacion} type=\"number\" className=\"form-control\" id=\"telefono\" placeholder=\"telefono estacion\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    \r\n                    \r\n\r\n                    \r\n                    \r\n                                                    \r\n                    <div className=\"col-12 divBoton\">\r\n                    {\r\n                        crear?\r\n                        <button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={HandleSubmitCrear}>Crear Gasolinera</button>\r\n                        :<button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={handleSubmitActualizar}>Actualizar Datos</button>\r\n                    }\r\n                    </div> */}\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}