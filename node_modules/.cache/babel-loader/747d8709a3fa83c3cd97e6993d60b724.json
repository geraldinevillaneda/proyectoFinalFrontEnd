{"ast":null,"code":"var _jsxFileName = \"E:\\\\Repaldo\\\\Univalle\\\\Ingenieria\\\\Semestre 12\\\\SaaS\\\\Integrador\\\\back-front2\\\\TallerfrontSAAS\\\\src\\\\pages\\\\leerUsuario.js\";\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nexport default function LeerUsuario() {\n  const valores = JSON.parse(sessionStorage.getItem('login'));\n  const id = valores.datos.id;\n  const token = valores.datos.token;\n  const navegacion = useHistory();\n\n  const HandleSubmitDelete = e => {\n    e.preventDefault();\n    fetch('http://localhost:5000/users/delete/' + id.toString(), {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          alert(result.done);\n          navegacion.push('/');\n          sessionStorage.removeItem('login');\n        } else {\n          alert(result.done);\n        }\n      });\n    });\n  };\n\n  fetch('http://localhost:5000/users/' + id.toString(), {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-access-token': token\n    }\n  }).then(respuesta => {\n    respuesta.json().then(result => {\n      if (result.Auth) {\n        alert(result);\n        return /*#__PURE__*/React.createElement(React.Fragment, null, result);\n      } else {\n        if (!result.token) {\n          navigator.push('/login');\n          alert(\"El tiempo de sesion expiro\");\n        } else {\n          alert(result.done);\n        }\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger boton \",\n    type: \"submit\",\n    onClickCapture: HandleSubmitDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Eliminar Usuario\"));\n}","map":{"version":3,"sources":["E:/Repaldo/Univalle/Ingenieria/Semestre 12/SaaS/Integrador/back-front2/TallerfrontSAAS/src/pages/leerUsuario.js"],"names":["React","useHistory","LeerUsuario","valores","JSON","parse","sessionStorage","getItem","id","datos","token","navegacion","HandleSubmitDelete","e","preventDefault","fetch","toString","method","headers","then","respuesta","json","result","Auth","alert","done","push","removeItem","navigator"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,eAAe,SAAUC,WAAV,GAAyB;AAEpC,QAAMC,OAAO,GAAIC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAjB;AACA,QAAMC,EAAE,GAAGL,OAAO,CAACM,KAAR,CAAcD,EAAzB;AACA,QAAME,KAAK,GAAGP,OAAO,CAACM,KAAR,CAAcC,KAA5B;AAEA,QAAMC,UAAU,GAAGV,UAAU,EAA7B;;AAEA,QAAMW,kBAAkB,GAAIC,CAAD,IAAO;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AAEAC,IAAAA,KAAK,CAAC,wCAAwCP,EAAE,CAACQ,QAAH,EAAzC,EAAwD;AACzDC,MAAAA,MAAM,EAAE,KADiD;AAEzDC,MAAAA,OAAO,EAAC;AACJ,wBAAgB,kBADZ;AAEJ,0BAAkBR;AAFd;AAFiD,KAAxD,CAAL,CAMGS,IANH,CAMSC,SAAD,IAAe;AACnBA,MAAAA,SAAS,CAACC,IAAV,GAAiBF,IAAjB,CAAuBG,MAAD,IAAY;AAC9B,YAAGA,MAAM,CAACC,IAAV,EACA;AACIC,UAAAA,KAAK,CAACF,MAAM,CAACG,IAAR,CAAL;AACAd,UAAAA,UAAU,CAACe,IAAX,CAAgB,GAAhB;AACApB,UAAAA,cAAc,CAACqB,UAAf,CAA0B,OAA1B;AACH,SALD,MAOA;AACIH,UAAAA,KAAK,CAACF,MAAM,CAACG,IAAR,CAAL;AACH;AACJ,OAXD;AAYH,KAnBD;AAoBH,GAvBD;;AAyBAV,EAAAA,KAAK,CAAC,iCAAiCP,EAAE,CAACQ,QAAH,EAAlC,EAAiD;AAClDC,IAAAA,MAAM,EAAE,KAD0C;AAElDC,IAAAA,OAAO,EAAC;AACJ,sBAAgB,kBADZ;AAEJ,wBAAkBR;AAFd;AAF0C,GAAjD,CAAL,CAMGS,IANH,CAMSC,SAAD,IAAe;AACnBA,IAAAA,SAAS,CAACC,IAAV,GAAiBF,IAAjB,CAAuBG,MAAD,IAAY;AAC9B,UAAGA,MAAM,CAACC,IAAV,EACA;AACIC,QAAAA,KAAK,CAACF,MAAD,CAAL;AACA,4BACI,0CACKA,MADL,CADJ;AAKH,OARD,MAUA;AACI,YAAG,CAACA,MAAM,CAACZ,KAAX,EACA;AACIkB,UAAAA,SAAS,CAACF,IAAV,CAAe,QAAf;AACAF,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACH,SAJD,MAMA;AACIA,UAAAA,KAAK,CAACF,MAAM,CAACG,IAAR,CAAL;AACH;AACJ;AACJ,KAtBD;AAuBH,GA9BD;AAgCA,sBACI,uDACI;AAAQ,IAAA,SAAS,EAAC,uBAAlB;AAA0C,IAAA,IAAI,EAAC,QAA/C;AAAyD,IAAA,cAAc,EAAEb,kBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ;AAMH","sourcesContent":["import React from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nexport default function  LeerUsuario () {\r\n\r\n    const valores =  JSON.parse(sessionStorage.getItem('login'));\r\n    const id = valores.datos.id;\r\n    const token = valores.datos.token;\r\n\r\n    const navegacion = useHistory();\r\n\r\n    const HandleSubmitDelete = (e) => {\r\n        e.preventDefault();\r\n        \r\n        fetch('http://localhost:5000/users/delete/' + id.toString(), {\r\n            method: 'GET',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    navegacion.push('/');\r\n                    sessionStorage.removeItem('login');\r\n                }\r\n                else\r\n                {\r\n                    alert(result.done);\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    fetch('http://localhost:5000/users/' + id.toString(), {\r\n        method: 'GET',\r\n        headers:{\r\n            'Content-Type': 'application/json',\r\n            'x-access-token': token\r\n        }\r\n    }).then((respuesta) => {\r\n        respuesta.json().then((result) => {\r\n            if(result.Auth)\r\n            {                  \r\n                alert(result)\r\n                return(\r\n                    <>\r\n                        {result}\r\n                    </>\r\n                );\r\n            }\r\n            else\r\n            {\r\n                if(!result.token)\r\n                {\r\n                    navigator.push('/login');\r\n                    alert(\"El tiempo de sesion expiro\");\r\n                }\r\n                else\r\n                {\r\n                    alert(result.done);\r\n                }\r\n            }\r\n        })\r\n    })\r\n\r\n    return(\r\n        <>\r\n            <button className=\"btn btn-danger boton \" type=\"submit\"  onClickCapture={HandleSubmitDelete}>Eliminar Usuario</button>\r\n        </>\r\n    );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}