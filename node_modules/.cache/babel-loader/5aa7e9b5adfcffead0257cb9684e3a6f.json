{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Univalle\\\\Trabajos univalle\\\\Semestre X\\\\SaaS\\\\Nueva carpeta\\\\proyectoFinalFrontEnd\\\\src\\\\pages\\\\membresias\\\\createMembresia.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport '../Login/login';\nconst initialFieldValues = {\n  ID_MEMBRESIA: '',\n  ESTADO: '',\n  NOMBRE_MEMBRESIA: '',\n  DURACION: '',\n  PRECIO: ''\n};\nexport default function CreateMembresia() {\n  const [values, setValues] = useState(initialFieldValues);\n  const [ESTADO, setESTADO] = useState('');\n  const [NOMBRE_MEMBRESIA, setNOMBRE_SEDE] = useState('');\n  const [DURACION, setLATITUD] = useState('');\n  const [PRECIO, setLONGITUD] = useState('');\n  const url = window.location.href;\n  const navigator = useHistory();\n  let crear = false;\n\n  if (url.includes('crear/membresia')) {\n    crear = true;\n  } else {\n    crear = false;\n    const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const token = valores.datos.token;\n    fetch('http://localhost:5000/membresias/' + datosSedes.datos.id_membresia, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          values.ESTADO = result.datos.estado;\n          values.NOMBRE_MEMBRESIA = result.datos.nombre_membresia;\n          values.DURACION = result.datos.duracion;\n          values.PRECIO = result.datos.precio;\n        } else {\n          if (!result.token) {\n            navigator.push('/login');\n            alert(\"El tiempo de sesion expiro\");\n          } else {\n            alert(result.done);\n          }\n        }\n      });\n    });\n  }\n\n  const handleSubmitActualizar = e => {\n    e.preventDefault();\n    const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const token = valores.datos.token;\n    const userID = valores.datos.id;\n    const data = {\n      id_membresia: datosSedes.datos.id_membresia,\n      estado: document.getElementById('estado').value,\n      nombre_membresia: document.getElementById('nombre_membresia').value,\n      duracion: document.getElementById('duracion').value,\n      precio: document.getElementById('precio').value\n    };\n    console.log('data');\n    console.log(data);\n    fetch('http://localhost:5000/membresias/update/' + data.ID_MEMBRESIA, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        console.log(result);\n\n        if (result.Auth) {\n          alert(result.done);\n          sessionStorage.removeItem('sede');\n          sessionStorage.setItem('sede', JSON.stringify({\n            datos: data\n          }));\n          navigator.push('/datos/membresia');\n        } else {\n          if (!result.token) {\n            navigator.push('/login');\n            alert(\"El tiempo de sesion expiro\");\n          } else {\n            alert(result.done);\n          }\n        }\n      });\n    });\n  };\n\n  const HandleSubmitCrear = e => {\n    e.preventDefault();\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const userID = valores.datos.id;\n    const token = valores.datos.token;\n    const data = {\n      ESTADO: document.getElementById('estado').value,\n      NOMBRE_MEMBRESIA: document.getElementById('nombre_membresia').value,\n      DURACION: document.getElementById('duracion').value,\n      PRECIO: document.getElementById('precio').value\n    };\n    fetch('http://localhost:5000/membresias/agregar', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          alert(result.done);\n          navigator.push('/dashboard/overview');\n        } else {\n          alert(result.done);\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper fadeInDown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formContent\",\n    className: \"editarUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, crear ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, \"Nueva Membresia\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, \"Formulario de ingreso de membresia\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, \"Editar membresia\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, \"Editar membresia\")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row g-3 formulario\",\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, \"Estado de la membresia\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setESTADO(e.target.value),\n    value: ESTADO,\n    className: \"form-select\",\n    id: \"estado\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 33\n    }\n  }, \"0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, \"1\")) : /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setValues({\n      ESTADO: e.target.value\n    }),\n    value: values.ESTADO,\n    className: \"form-select\",\n    id: \"estado\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, \"0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }, \"1\"))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, \"Nombre de la membresia\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setNOMBRE_SEDE(e.target.value),\n    value: NOMBRE_MEMBRESIA,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"nombre_membresia\",\n    placeholder: \"Nombre sede\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setValues({\n      NOMBRE_MEMBRESIA: e.target.value\n    }),\n    value: values.NOMBRE_MEMBRESIA,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"nombre_membresia\",\n    placeholder: \"Nombre sede\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 21\n    }\n  }, \"Duracion de la membresia\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setLATITUD(e.target.value),\n    value: DURACION,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"duracion\",\n    placeholder: \"Duracion de la membresia\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setValues({\n      DURACION: e.target.value\n    }),\n    value: values.DURACION,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"nombre_membresia\",\n    placeholder: \"Duracion de la membresia\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 21\n    }\n  }, \"Precio de la membresia\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 21\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setLONGITUD(e.target.value),\n    value: PRECIO,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"precio\",\n    placeholder: \"Precio de la membresia\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setValues({\n      PRECIO: e.target.value\n    }),\n    value: values.PRECIO,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"precio\",\n    placeholder: \"Precio de la membresia\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 divBoton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary boton \",\n    type: \"submit\",\n    onClickCapture: HandleSubmitCrear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 25\n    }\n  }, \"Crear Sede\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary boton \",\n    type: \"submit\",\n    onClickCapture: handleSubmitActualizar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 26\n    }\n  }, \"Actualizar Datos\")))));\n}","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Univalle/Trabajos univalle/Semestre X/SaaS/Nueva carpeta/proyectoFinalFrontEnd/src/pages/membresias/createMembresia.js"],"names":["React","useState","useHistory","Helmet","initialFieldValues","ID_MEMBRESIA","ESTADO","NOMBRE_MEMBRESIA","DURACION","PRECIO","CreateMembresia","values","setValues","setESTADO","setNOMBRE_SEDE","setLATITUD","setLONGITUD","url","window","location","href","navigator","crear","includes","datosSedes","JSON","parse","sessionStorage","getItem","valores","token","datos","fetch","id_membresia","method","headers","then","respuesta","json","result","Auth","estado","nombre_membresia","duracion","precio","push","alert","done","handleSubmitActualizar","e","preventDefault","userID","id","data","document","getElementById","value","console","log","body","stringify","removeItem","setItem","HandleSubmitCrear","target"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {Helmet} from 'react-helmet';\r\n\r\nimport '../Login/login'\r\n\r\n\r\nconst initialFieldValues = \r\n{\r\n    ID_MEMBRESIA:'',\r\n    ESTADO:'',\r\n    NOMBRE_MEMBRESIA:'',\r\n    DURACION:'',\r\n    PRECIO:'',\r\n\r\n}\r\n\r\n\r\nexport default function CreateMembresia (){\r\n\r\n\r\n    const [values, setValues] = useState(initialFieldValues);\r\n\r\n    const [ESTADO,  setESTADO] = useState('');\r\n    const [NOMBRE_MEMBRESIA, setNOMBRE_SEDE] = useState('');\r\n    const [DURACION, setLATITUD] = useState('');\r\n    const [PRECIO, setLONGITUD] = useState('');\r\n\r\n    \r\n    const   url = window.location.href;\r\n    const navigator = useHistory();\r\n    let crear = false;\r\n\r\n\r\n    if(url.includes('crear/membresia'))\r\n    {\r\n        crear = true\r\n    }\r\n    else\r\n    {\r\n        \r\n        crear = false;\r\n\r\n        const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\r\n\r\n        const valores =  JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n\r\n        fetch('http://localhost:5000/membresias/' + datosSedes.datos.id_membresia, {\r\n            method: 'GET',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {         \r\n                    values.ESTADO = result.datos.estado;\r\n                    values.NOMBRE_MEMBRESIA = result.datos.nombre_membresia;\r\n                    values.DURACION = result.datos.duracion;\r\n                    values.PRECIO = result.datos.precio;\r\n\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n    \r\n    const handleSubmitActualizar = (e) =>\r\n    {\r\n        e.preventDefault();\r\n\r\n        const datosSedes = JSON.parse(sessionStorage.getItem('sede'));\r\n\r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n        const userID = valores.datos.id;\r\n        \r\n        const data = {\r\n            id_membresia: datosSedes.datos.id_membresia,\r\n            estado: document.getElementById('estado').value,\r\n            nombre_membresia: document.getElementById('nombre_membresia').value,\r\n            duracion: document.getElementById('duracion').value,\r\n            precio: document.getElementById('precio').value,\r\n        };\r\n        console.log('data');\r\n        console.log(data);\r\n        \r\n\r\n        fetch(('http://localhost:5000/membresias/update/' + data.ID_MEMBRESIA) ,{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                console.log(result)\r\n                \r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    sessionStorage.removeItem('sede');\r\n                    sessionStorage.setItem('sede', JSON.stringify({\r\n                        datos: data\r\n                    }));\r\n                    navigator.push('/datos/membresia');\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    const HandleSubmitCrear = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const userID = valores.datos.id;\r\n        const token = valores.datos.token;\r\n\r\n        const data = {\r\n\r\n            ESTADO: document.getElementById('estado').value,\r\n            NOMBRE_MEMBRESIA: document.getElementById('nombre_membresia').value,\r\n            DURACION: document.getElementById('duracion').value,\r\n            PRECIO: document.getElementById('precio').value,\r\n        };\r\n\r\n\r\n        fetch('http://localhost:5000/membresias/agregar',{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    navigator.push('/dashboard/overview');\r\n                }\r\n                else\r\n                {\r\n                    alert(result.done);\r\n                }\r\n            \r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"wrapper fadeInDown\">\r\n            <div id=\"formContent\" className=\"editarUsuario\">\r\n                {crear ?\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Nueva Membresia</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Formulario de ingreso de membresia</h2>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Editar membresia</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Editar membresia</h2>\r\n                    </>\r\n                }\r\n                <form className=\"row g-3 formulario\" autoComplete=\"off\" >\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Estado de la membresia</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        {crear ?\r\n                            <select onChange={(e) => setESTADO(e.target.value)} value={ESTADO} \r\n                                    className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                            </select>\r\n                            :<select onChange={(e) => setValues(\r\n                                {\r\n                                    ESTADO: e.target.value,\r\n                                }\r\n                            )} value={values.ESTADO} className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                            </select>\r\n                        }\r\n                    </div>\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Nombre de la membresia</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setNOMBRE_SEDE(e.target.value)} value={NOMBRE_MEMBRESIA}  \r\n                                type=\"text\" className=\"form-control\" id=\"nombre_membresia\" placeholder=\"Nombre sede\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    NOMBRE_MEMBRESIA:e.target.value,\r\n                                }\r\n                            )} value={values.NOMBRE_MEMBRESIA} type=\"text\" className=\"form-control\" id=\"nombre_membresia\" placeholder=\"Nombre sede\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Duracion de la membresia</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setLATITUD(e.target.value)} value={DURACION}  \r\n                                type=\"number\" className=\"form-control\" id=\"duracion\" placeholder=\"Duracion de la membresia\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    DURACION:e.target.value,\r\n                                }\r\n                            )} value={values.DURACION} type=\"text\" className=\"form-control\" id=\"nombre_membresia\" placeholder=\"Duracion de la membresia\" required />\r\n                        } \r\n                    </div>\r\n                    \r\n                    <label className=\"form-label col-sm-4 labelForm\">Precio de la membresia</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setLONGITUD(e.target.value)} value={PRECIO}  \r\n                                type=\"number\" className=\"form-control\" id=\"precio\" placeholder=\"Precio de la membresia\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    PRECIO:e.target.value,\r\n                                }\r\n                            )} value={values.PRECIO} type=\"text\" className=\"form-control\" id=\"precio\" placeholder=\"Precio de la membresia\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    \r\n                                                    \r\n                    <div className=\"col-12 divBoton\">\r\n                    {\r\n                        crear?\r\n                        <button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={HandleSubmitCrear}>Crear Sede</button>\r\n                        :<button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={handleSubmitActualizar}>Actualizar Datos</button>\r\n                    }\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}