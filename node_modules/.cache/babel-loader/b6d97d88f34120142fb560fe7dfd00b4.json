{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\geral\\\\Desktop\\\\REPOS\\\\PROYECTOFINAL\\\\proyectoFinalFrontEnd\\\\src\\\\pages\\\\Group\\\\createGroup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport '../Login/login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialFieldValues = {\n  ID_GRUPO: '',\n  ESTADO: '',\n  CUPO_ESTUDIANTES: '',\n  SEMESTRE: '',\n  TOTAL_ESTUDIANTES: ''\n};\nexport default function CreateGroup() {\n  _s();\n\n  const [values, setValues] = useState(initialFieldValues);\n  const [ESTADO, setESTADO] = useState('');\n  const [CUPO_ESTUDIANTES, setCUPO_ESTUDIANTES] = useState('');\n  const [SEMESTRE, setSEMESTRE] = useState('');\n  const [TOTAL_ESTUDIANTES, setTOTAL_ESTUDIANTES] = useState('');\n  const url = window.location.href;\n  const navigator = useHistory();\n  let crear = false;\n\n  if (url.includes('crear/Grupo')) {\n    crear = true;\n  } else {\n    crear = false;\n    const datosGrupos = JSON.parse(sessionStorage.getItem('grupo'));\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const token = valores.datos.token;\n    fetch('http://localhost:5000/grupos/' + datosGrupos.datos.id_grupo, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          values.ESTADO = result.datos.estado;\n          values.CUPO_ESTUDIANTES = result.datos.cupo_estudiantes;\n          values.SEMESTRE = result.datos.semestre;\n          values.TOTAL_ESTUDIANTES = result.datos.total_estudiantes;\n        } else {\n          if (!result.token) {\n            navigator.push('/login');\n            alert(\"El tiempo de sesion expiro\");\n          } else {\n            alert(result.done);\n          }\n        }\n      });\n    });\n  }\n\n  const handleSubmitActualizar = e => {\n    e.preventDefault();\n    const datosGrupos = JSON.parse(sessionStorage.getItem('grupo'));\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const token = valores.datos.token;\n    const userID = valores.datos.id;\n    const data = {\n      id_grupo: datosGrupos.datos.id_grupo,\n      estado: document.getElementById('estado').value,\n      cupo_estudiantes: document.getElementById('cupo_estudiantes').value,\n      semestre: document.getElementById('semestre').value,\n      total_estudiantes: document.getElementById('total_estudiantes').value\n    };\n    console.log('data');\n    console.log(data);\n    fetch('http://localhost:5000/grupos/update/' + data.ID_GRUPO, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        console.log(result);\n\n        if (result.Auth) {\n          alert(result.done);\n          sessionStorage.removeItem('grupo');\n          sessionStorage.setItem('grupo', JSON.stringify({\n            datos: data\n          }));\n          navigator.push('/datos/Grupo');\n        } else {\n          if (!result.token) {\n            navigator.push('/login');\n            alert(\"El tiempo de sesion expiro\");\n          } else {\n            alert(result.done);\n          }\n        }\n      });\n    });\n  };\n\n  const HandleSubmitCrear = e => {\n    e.preventDefault();\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const userID = valores.datos.id;\n    const token = valores.datos.token;\n    const data = {\n      ESTADO: document.getElementById('estado').value,\n      CUPO_ESTUDIANTES: document.getElementById('cupo_estudiantes').value,\n      SEMESTRE: document.getElementById('semestre').value,\n      TOTAL_ESTUDIANTES: document.getElementById('total_estudiantes').value\n    };\n    fetch('http://localhost:5000/grupos/agregar', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(respuesta => {\n      respuesta.json().then(result => {\n        if (result.Auth) {\n          alert(result.done);\n          navigator.push('/dashboard/overview');\n        } else {\n          alert(result.done);\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper fadeInDown\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"formContent\",\n      className: \"editarUsuario\",\n      children: [crear ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Nuevo Grupo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"titulo\",\n          children: \"Formulario de ingreso de Grupo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Helmet, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Editar Grupo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"titulo\",\n          children: \"Editar Grupo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-3 formulario\",\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Estado de Grupo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setESTADO(e.target.value),\n            value: ESTADO,\n            className: \"form-select\",\n            id: \"estado\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setValues({\n              ESTADO: e.target.value\n            }),\n            value: values.ESTADO,\n            className: \"form-select\",\n            id: \"estado\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Cupo del grupo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setCUPO_ESTUDIANTES(e.target.value),\n            value: CUPO_ESTUDIANTES,\n            type: \"text\",\n            className: \"form-control\",\n            id: \"cupo_estudiantes\",\n            placeholder: \"Cupo estudiantes\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              CUPO_ESTUDIANTES: e.target.value\n            }),\n            value: values.CUPO_ESTUDIANTES,\n            type: \"text\",\n            className: \"form-control\",\n            id: \"cupo_estudiantes\",\n            placeholder: \"Cupo estudiantes\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Semestre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setSEMESTRE(e.target.value),\n            value: SEMESTRE,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"semestre\",\n            placeholder: \"Semestre\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              SEMESTRE: e.target.value\n            }),\n            value: values.SEMESTRE,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"semestre\",\n            placeholder: \"Semestre\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"validationDefault03\",\n          className: \"form-label col-sm-4 labelForm\",\n          children: \"Total estudiantes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 listaOpciones\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setTOTAL_ESTUDIANTES(e.target.value),\n            value: TOTAL_ESTUDIANTES,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"total estudiantes\",\n            placeholder: \"Total estudiantes\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setValues({\n              TOTAL_ESTUDIANTES: e.target.value\n            }),\n            value: values.TOTAL_ESTUDIANTES,\n            type: \"number\",\n            className: \"form-control\",\n            id: \"total estudiantes\",\n            placeholder: \"Total estudiantes\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 divBoton\",\n          children: crear ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary boton \",\n            type: \"submit\",\n            onClickCapture: HandleSubmitCrear,\n            children: \"Crear Grupo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary boton \",\n            type: \"submit\",\n            onClickCapture: handleSubmitActualizar,\n            children: \"Actualizar Datos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateGroup, \"zwdlpfNirMxvpA1iG94qMGh6Kds=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateGroup;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateGroup\");","map":{"version":3,"sources":["C:/Users/geral/Desktop/REPOS/PROYECTOFINAL/proyectoFinalFrontEnd/src/pages/Group/createGroup.js"],"names":["React","useState","useHistory","Helmet","initialFieldValues","ID_GRUPO","ESTADO","CUPO_ESTUDIANTES","SEMESTRE","TOTAL_ESTUDIANTES","CreateGroup","values","setValues","setESTADO","setCUPO_ESTUDIANTES","setSEMESTRE","setTOTAL_ESTUDIANTES","url","window","location","href","navigator","crear","includes","datosGrupos","JSON","parse","sessionStorage","getItem","valores","token","datos","fetch","id_grupo","method","headers","then","respuesta","json","result","Auth","estado","cupo_estudiantes","semestre","total_estudiantes","push","alert","done","handleSubmitActualizar","e","preventDefault","userID","id","data","document","getElementById","value","console","log","body","stringify","removeItem","setItem","HandleSubmitCrear","target"],"mappings":"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","sourcesContent":["\r\nimport React, {useState} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {Helmet} from 'react-helmet';\r\n\r\nimport '../Login/login'\r\n\r\n\r\nconst initialFieldValues = \r\n{\r\n    ID_GRUPO:'',\r\n    ESTADO:'',\r\n    CUPO_ESTUDIANTES:'',\r\n    SEMESTRE:'',\r\n    TOTAL_ESTUDIANTES:'',\r\n}\r\n\r\n\r\nexport default function CreateGroup (){\r\n\r\n\r\n    const [values, setValues] = useState(initialFieldValues);\r\n\r\n    const [ESTADO,  setESTADO] = useState('');\r\n    const [CUPO_ESTUDIANTES, setCUPO_ESTUDIANTES] = useState('');\r\n    const [SEMESTRE, setSEMESTRE] = useState('');\r\n    const [TOTAL_ESTUDIANTES, setTOTAL_ESTUDIANTES] = useState('');\r\n    \r\n    const   url = window.location.href;\r\n    const navigator = useHistory();\r\n    let crear = false;\r\n\r\n\r\n    if(url.includes('crear/Grupo'))\r\n    {\r\n        crear = true\r\n    }\r\n    else\r\n    {\r\n        \r\n        crear = false;\r\n\r\n        const datosGrupos = JSON.parse(sessionStorage.getItem('grupo'));\r\n\r\n        const valores =  JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n\r\n        fetch('http://localhost:5000/grupos/' + datosGrupos.datos.id_grupo, {\r\n            method: 'GET',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {         \r\n                    values.ESTADO = result.datos.estado;\r\n                    values.CUPO_ESTUDIANTES = result.datos.cupo_estudiantes;\r\n                    values.SEMESTRE = result.datos.semestre;\r\n                    values.TOTAL_ESTUDIANTES = result.datos.total_estudiantes;\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n    \r\n    const handleSubmitActualizar = (e) =>\r\n    {\r\n        e.preventDefault();\r\n\r\n        const datosGrupos = JSON.parse(sessionStorage.getItem('grupo'));\r\n\r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const token = valores.datos.token;\r\n        const userID = valores.datos.id;\r\n        \r\n        const data = {\r\n            id_grupo: datosGrupos.datos.id_grupo,\r\n            estado: document.getElementById('estado').value,\r\n            cupo_estudiantes: document.getElementById('cupo_estudiantes').value,\r\n            semestre: document.getElementById('semestre').value,\r\n            total_estudiantes: document.getElementById('total_estudiantes').value,\r\n        };\r\n        console.log('data');\r\n        console.log(data);\r\n        \r\n\r\n        fetch(('http://localhost:5000/grupos/update/' + data.ID_GRUPO) ,{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                console.log(result)\r\n                \r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    sessionStorage.removeItem('grupo');\r\n                    sessionStorage.setItem('grupo', JSON.stringify({\r\n                        datos: data\r\n                    }));\r\n                    navigator.push('/datos/Grupo');\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    const HandleSubmitCrear = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const userID = valores.datos.id;\r\n        const token = valores.datos.token;\r\n\r\n        const data = {\r\n\r\n            ESTADO: document.getElementById('estado').value,\r\n            CUPO_ESTUDIANTES: document.getElementById('cupo_estudiantes').value,\r\n            SEMESTRE: document.getElementById('semestre').value,\r\n            TOTAL_ESTUDIANTES: document.getElementById('total_estudiantes').value,\r\n            \r\n        };\r\n\r\n\r\n        fetch('http://localhost:5000/grupos/agregar',{\r\n            method:'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {\r\n                    alert(result.done);\r\n                    navigator.push('/dashboard/overview');\r\n                }\r\n                else\r\n                {\r\n                    alert(result.done);\r\n                }\r\n            \r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"wrapper fadeInDown\">\r\n            <div id=\"formContent\" className=\"editarUsuario\">\r\n                {crear ?\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Nuevo Grupo</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Formulario de ingreso de Grupo</h2>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <Helmet>\r\n                            <title>Editar Grupo</title>\r\n                        </Helmet>\r\n                        <h2 className='titulo'>Editar Grupo</h2>\r\n                    </>\r\n                }\r\n                <form className=\"row g-3 formulario\" autoComplete=\"off\" >\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Estado de Grupo</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        {crear ?\r\n                            <select onChange={(e) => setESTADO(e.target.value)} value={ESTADO} \r\n                                    className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                            </select>\r\n                            :<select onChange={(e) => setValues(\r\n                                {\r\n                                    ESTADO: e.target.value,\r\n                                }\r\n                            )} value={values.ESTADO} className=\"form-select\" id=\"estado\" >\r\n                                <option value=\"0\">0</option>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                            </select>\r\n                        }\r\n                    </div>\r\n\r\n                    <label className=\"form-label col-sm-4 labelForm\">Cupo del grupo</label>\r\n                    <div className=\"col-md-8\">\r\n                        {crear ?\r\n                            <input onChange={(e) => setCUPO_ESTUDIANTES(e.target.value)} value={CUPO_ESTUDIANTES}  \r\n                                type=\"text\" className=\"form-control\" id=\"cupo_estudiantes\" placeholder=\"Cupo estudiantes\" required/>\r\n                            :<input onChange={(e) => setValues(\r\n                                {\r\n                                    CUPO_ESTUDIANTES:e.target.value,\r\n                                }\r\n                            )} value={values.CUPO_ESTUDIANTES} type=\"text\" className=\"form-control\" id=\"cupo_estudiantes\" placeholder=\"Cupo estudiantes\" required />\r\n                        } \r\n                    </div>\r\n\r\n                    \r\n                    <label className=\"form-label col-sm-4 labelForm\">Semestre</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        { crear ?\r\n                            <input onChange={(e) => setSEMESTRE(e.target.value)} value={SEMESTRE} \r\n                                type=\"number\" className=\"form-control\" id=\"semestre\"  placeholder=\"Semestre\" required/>\r\n                            : <input onChange={(e) => setValues(\r\n                                {\r\n                                    SEMESTRE:e.target.value,\r\n                                }\r\n                            )} value={values.SEMESTRE} type=\"number\" className=\"form-control\" id=\"semestre\"  placeholder=\"Semestre\" required/>\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <label htmlFor=\"validationDefault03\" className=\"form-label col-sm-4 labelForm\">Total estudiantes</label>\r\n                    <div className=\"col-md-8 listaOpciones\">\r\n                        { crear ?\r\n                            <input onChange={(e) => setTOTAL_ESTUDIANTES(e.target.value)} value={TOTAL_ESTUDIANTES} \r\n                                type=\"number\" className=\"form-control\" id=\"total estudiantes\"  placeholder=\"Total estudiantes\" required/>\r\n                            : <input onChange={(e) => setValues(\r\n                                {\r\n                                    TOTAL_ESTUDIANTES:e.target.value,\r\n                                }\r\n                            )} value={values.TOTAL_ESTUDIANTES} type=\"number\" className=\"form-control\" id=\"total estudiantes\"  placeholder=\"Total estudiantes\" required/>\r\n                        }\r\n                    </div>\r\n\r\n             \r\n                                                    \r\n                    <div className=\"col-12 divBoton\">\r\n                    {\r\n                        crear?\r\n                        <button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={HandleSubmitCrear}>Crear Grupo</button>\r\n                        :<button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={handleSubmitActualizar}>Actualizar Datos</button>\r\n                    }\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}