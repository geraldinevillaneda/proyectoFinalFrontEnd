{"ast":null,"code":"var _jsxFileName = \"E:\\\\Repaldo\\\\Univalle\\\\Ingenieria\\\\Semestre 12\\\\SaaS\\\\Integrador\\\\back-front2\\\\TallerfrontSAAS\\\\src\\\\components\\\\UserCreate\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport '../../pages/Login/login';\nconst initialFieldValues = {\n  id: '',\n  nombre_usuario: '',\n  tipo_documento: '',\n  sexo_usuario: '',\n  nacionalidad_usuario: '',\n  telefono_usuario: '',\n  direccion_usuario: '',\n  clave_usuario: ''\n};\nconst url = window.location.href;\nconst navigator = useHistory();\nlet crear = false;\nconst [values, setValues] = useState(initialFieldValues);\n\nif (url.includes('crear/usuario')) {\n  crear = true;\n} else {\n  crear = false;\n  const valores = JSON.parse(sessionStorage.getItem('login'));\n  const id = valores.datos.id;\n  const token = valores.datos.token;\n  fetch('http://localhost:5000/users/' + id.toString(), {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-access-token': token\n    }\n  }).then(respuesta => {\n    respuesta.json().then(result => {\n      if (result.Auth) {\n        console.log(result.datos);\n        values.id = result.datos.id;\n        values.nombre_usuario = result.datos.nombre_usuario;\n        values.tipo_documento = result.datos.tipo_documento;\n        values.sexo_usuario = result.datos.sexo_usuario;\n        values.nacionalidad_usuario = result.datos.nacionalidad_usuario;\n        values.telefono_usuario = result.datos.telefono_usuario;\n        values.direccion_usuario = result.datos.direccion_usuario;\n        values.clave_usuario = result.datos.clave_usuario;\n      } else {\n        if (!result.token) {\n          navigator.push('/login');\n          alert(\"El tiempo de sesion expiro\");\n        } else {\n          alert(result.done);\n        }\n      }\n    });\n  });\n}\n\nexport default function UserCreate() {\n  const [userid, setUserId] = useState('');\n  const [username, setUsername] = useState('');\n  const [userdocument, setUserDocument] = useState('');\n  const [usersex, setUserSex] = useState('');\n  const [userphone, setUserPhone] = useState('');\n  const [useraddres, setUserAddres] = useState('');\n  const [usersource, setUserSource] = useState('');\n  const [userpassword, setUserPassword] = useState('');\n  const [userpassword2, setUserPassword2] = useState('');\n\n  const handleSubmitActualizar = e => {\n    e.preventDefault();\n    const data = {\n      /* id:userid,\r\n      nombre_usuario:username,\r\n      tipo_documento:userdocument,\r\n      sexo_usuario:usersex,\r\n      nacionalidad_usuario:usersource,\r\n      telefono_usuario:userphone,\r\n      direccion_usuario:useraddres */\n      id: values.id,\n      nombre_usuario: values.nombre_usuario,\n      tipo_documento: values.tipo_documento,\n      sexo_usuario: values.sexo_usuario,\n      nacionalidad_usuario: values.nacionalidad_usuario,\n      telefono_usuario: values.telefono_usuario,\n      direccion_usuario: values.direccion_usuario\n      /* clave_usuario:userpassword */\n\n    };\n    console.log(data);\n    const valores = JSON.parse(sessionStorage.getItem('login'));\n    const id = valores.datos.id;\n    const token = valores.datos.token;\n\n    if (userpassword !== userpassword2) {\n      alert(\"Las contraseñas no coinciden\");\n    } else {\n      fetch('http://localhost:5000/users/update/' + id, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {\n          'Content-Type': 'application/json',\n          'x-access-token': token\n        }\n      }).then(respuesta => {\n        respuesta.json().then(result => {\n          console.log(result);\n\n          if (result.Auth) {\n            alert(result.done);\n          } else {\n            if (!result.token) {\n              navigator.push('/login');\n              alert(\"El tiempo de sesion expiro\");\n            } else {\n              alert(result.done);\n            }\n          }\n        });\n      });\n    }\n\n    console.log(userid);\n  };\n\n  const HandleSubmitCrear = e => {\n    e.preventDefault();\n    const data = {\n      id: userid,\n      nombre_usuario: username,\n      tipo_documento: userdocument,\n      sexo_usuario: usersex,\n      nacionalidad_usuario: usersource,\n      telefono_usuario: userphone,\n      direccion_usuario: useraddres,\n      clave_usuario: userpassword\n    };\n\n    if (userpassword !== userpassword2) {\n      alert(\"Las contraseñas no coinciden\");\n    } else {\n      fetch('http://localhost:5000/users/agregar', {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(respuesta => {\n        respuesta.json().then(result => {\n          if (result.Auth) {\n            alert(result.done);\n            sessionStorage.setItem('login', JSON.stringify({\n              datos: {\n                token: result.succesfull,\n                nombreUsuario: result.nombre_usuario,\n                id: result.id\n                /* password: userpassword */\n\n              }\n            }));\n            navigator.push('/dashboard/overview');\n          } else {\n            alert(result.done);\n            /*  navigator.push('/crear/usuario'); */\n          }\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"titulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, \"Formulario de ingreso de usuarios\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row g-3 formulario\",\n    autoComplete: \"off\",\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }\n  }, \"Numero de documento\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserId(e.target.value),\n    value: userid,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"documento\",\n    placeholder: \"Nro de documento\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"label\", {\n    type: \"number\",\n    className: \"form-control\",\n    id: \"documento\",\n    placeholder: \"Nro de documento\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 27\n    }\n  }, values.id)), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, \"Nombres\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUsername(e.target.value),\n    value: username,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"nombre\",\n    placeholder: \"Nombre completo\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setValues({\n      nombre_usuario: e.target.value\n    }),\n    value: values.nombre_usuario,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"nombre\",\n    placeholder: \"Nombre completo\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, \"Tipo de documento\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserDocument(e.target.value),\n    value: userdocument,\n    className: \"form-select\",\n    id: \"tipoD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"CC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 29\n    }\n  }, \"Cedula de Ciudadania\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"TI\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, \"Tarjeta de Identidad\")) : /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserDocument(e.target.value),\n    value: values.tipo_documento,\n    className: \"form-select\",\n    id: \"tipoD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"CC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 29\n    }\n  }, \"Cedula de Ciudadania\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"TI\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 29\n    }\n  }, \"Tarjeta de Identidad\"))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, \"Sexo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserSex(e.target.value),\n    value: usersex,\n    className: \"form-select\",\n    id: \"sexo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"M\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 29\n    }\n  }, \"Masculino\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 29\n    }\n  }, \"Femenino\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"O\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 29\n    }\n  }, \"Otro\")) : /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserSex(e.target.value),\n    value: values.sexo_usuario,\n    className: \"form-select\",\n    id: \"sexo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"M\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 29\n    }\n  }, \"Masculino\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 29\n    }\n  }, \"Femenino\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"O\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 29\n    }\n  }, \"Otro\"))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, \"Telefono\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserPhone(e.target.value),\n    value: userphone,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"telefono\",\n    placeholder: \"Telefono\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserPhone(e.target.value),\n    value: values.telefono_usuario,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"telefono\",\n    placeholder: \"Telefono\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"validationDefault03\",\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, \"Direccion\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserAddres(e.target.value),\n    value: useraddres,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"direccion\",\n    placeholder: \"Direccion\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserAddres(e.target.value),\n    value: values.direccion_usuario,\n    type: \"text\",\n    className: \"form-control\",\n    id: \"direccion\",\n    placeholder: \"Direccion\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, \"Nacionalidad\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 listaOpciones\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserSource(e.target.value),\n    value: usersource,\n    className: \"form-select\",\n    id: \"nacionalidad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Colombia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 29\n    }\n  }, \"Colombiano(a)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Extranjero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 29\n    }\n  }, \"Extranjero(a)\")) : /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setUserSource(e.target.value),\n    value: values.nacionalidad_usuario,\n    className: \"form-select\",\n    id: \"nacionalidad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Colombia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, \"Colombiano(a)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Extranjero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 29\n    }\n  }, \"Extranjero(a)\"))), crear ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"validationDefault03\",\n    type: \"password\",\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, \"Crea una Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserPassword(e.target.value),\n    value: userpassword,\n    type: \"password\",\n    className: \"form-control\",\n    id: \"direccion\",\n    placeholder: \"Contrasena\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"validationDefault03\",\n    className: \"form-label col-sm-4 labelForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 25\n    }\n  }, \"Repite Contrese\\xF1a\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setUserPassword2(e.target.value),\n    value: userpassword2,\n    type: \"password\",\n    className: \"form-control\",\n    id: \"direccion\",\n    placeholder: \"Contrasena2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 29\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 divBoton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }\n  }, crear ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary boton \",\n    type: \"submit\",\n    onClickCapture: HandleSubmitCrear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }, \"Crear Usuario\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary boton \",\n    type: \"submit\",\n    onClickCapture: handleSubmitActualizar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 22\n    }\n  }, \"Actualizar Datos\"))));\n}","map":{"version":3,"sources":["E:/Repaldo/Univalle/Ingenieria/Semestre 12/SaaS/Integrador/back-front2/TallerfrontSAAS/src/components/UserCreate/index.js"],"names":["React","useState","useEffect","useHistory","initialFieldValues","id","nombre_usuario","tipo_documento","sexo_usuario","nacionalidad_usuario","telefono_usuario","direccion_usuario","clave_usuario","url","window","location","href","navigator","crear","values","setValues","includes","valores","JSON","parse","sessionStorage","getItem","datos","token","fetch","toString","method","headers","then","respuesta","json","result","Auth","console","log","push","alert","done","UserCreate","userid","setUserId","username","setUsername","userdocument","setUserDocument","usersex","setUserSex","userphone","setUserPhone","useraddres","setUserAddres","usersource","setUserSource","userpassword","setUserPassword","userpassword2","setUserPassword2","handleSubmitActualizar","e","preventDefault","data","body","stringify","HandleSubmitCrear","setItem","succesfull","nombreUsuario","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAO,yBAAP;AAGA,MAAMC,kBAAkB,GACxB;AACIC,EAAAA,EAAE,EAAE,EADR;AAEIC,EAAAA,cAAc,EAAE,EAFpB;AAGIC,EAAAA,cAAc,EAAE,EAHpB;AAIIC,EAAAA,YAAY,EAAE,EAJlB;AAKIC,EAAAA,oBAAoB,EAAE,EAL1B;AAMIC,EAAAA,gBAAgB,EAAE,EANtB;AAOIC,EAAAA,iBAAiB,EAAE,EAPvB;AAQIC,EAAAA,aAAa,EAAE;AARnB,CADA;AAaA,MAAQC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA9B;AACI,MAAMC,SAAS,GAAGd,UAAU,EAA5B;AACA,IAAIe,KAAK,GAAG,KAAZ;AACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAACG,kBAAD,CAApC;;AAGA,IAAGS,GAAG,CAACQ,QAAJ,CAAa,eAAb,CAAH,EACA;AACIH,EAAAA,KAAK,GAAG,IAAR;AACH,CAHD,MAKA;AACIA,EAAAA,KAAK,GAAG,KAAR;AACA,QAAMI,OAAO,GAAIC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAjB;AACA,QAAMrB,EAAE,GAAGiB,OAAO,CAACK,KAAR,CAActB,EAAzB;AACA,QAAMuB,KAAK,GAAGN,OAAO,CAACK,KAAR,CAAcC,KAA5B;AAEAC,EAAAA,KAAK,CAAC,iCAAiCxB,EAAE,CAACyB,QAAH,EAAlC,EAAiD;AAClDC,IAAAA,MAAM,EAAE,KAD0C;AAElDC,IAAAA,OAAO,EAAC;AACJ,sBAAgB,kBADZ;AAEJ,wBAAkBJ;AAFd;AAF0C,GAAjD,CAAL,CAMGK,IANH,CAMSC,SAAD,IAAe;AACnBA,IAAAA,SAAS,CAACC,IAAV,GAAiBF,IAAjB,CAAuBG,MAAD,IAAY;AAC9B,UAAGA,MAAM,CAACC,IAAV,EACA;AACIC,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACT,KAAnB;AACAR,QAAAA,MAAM,CAACd,EAAP,GAAY+B,MAAM,CAACT,KAAP,CAAatB,EAAzB;AACAc,QAAAA,MAAM,CAACb,cAAP,GAAwB8B,MAAM,CAACT,KAAP,CAAarB,cAArC;AACAa,QAAAA,MAAM,CAACZ,cAAP,GAAwB6B,MAAM,CAACT,KAAP,CAAapB,cAArC;AACAY,QAAAA,MAAM,CAACX,YAAP,GAAsB4B,MAAM,CAACT,KAAP,CAAanB,YAAnC;AACAW,QAAAA,MAAM,CAACV,oBAAP,GAA8B2B,MAAM,CAACT,KAAP,CAAalB,oBAA3C;AACAU,QAAAA,MAAM,CAACT,gBAAP,GAA0B0B,MAAM,CAACT,KAAP,CAAajB,gBAAvC;AACAS,QAAAA,MAAM,CAACR,iBAAP,GAA2ByB,MAAM,CAACT,KAAP,CAAahB,iBAAxC;AACAQ,QAAAA,MAAM,CAACP,aAAP,GAAuBwB,MAAM,CAACT,KAAP,CAAaf,aAApC;AAEH,OAZD,MAcA;AACI,YAAG,CAACwB,MAAM,CAACR,KAAX,EACA;AACIX,UAAAA,SAAS,CAACuB,IAAV,CAAe,QAAf;AACAC,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACH,SAJD,MAMA;AACIA,UAAAA,KAAK,CAACL,MAAM,CAACM,IAAR,CAAL;AACH;AACJ;AACJ,KA1BD;AA2BH,GAlCD;AAmCH;;AAGL,eAAe,SAASC,UAAT,GAAsB;AAMjC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsB5C,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC6C,QAAD,EAAWC,WAAX,IAA0B9C,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC+C,YAAD,EAAeC,eAAf,IAAkChD,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACiD,OAAD,EAAUC,UAAV,IAAwBlD,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACmD,SAAD,EAAYC,YAAZ,IAA4BpD,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACqD,UAAD,EAAaC,aAAb,IAA8BtD,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACuD,UAAD,EAAaC,aAAb,IAA8BxD,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACyD,YAAD,EAAeC,eAAf,IAAkC1D,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAC2D,aAAD,EAAgBC,gBAAhB,IAAoC5D,QAAQ,CAAC,EAAD,CAAlD;;AAIA,QAAM6D,sBAAsB,GAAIC,CAAD,IAC/B;AACIA,IAAAA,CAAC,CAACC,cAAF;AAGA,UAAMC,IAAI,GAAG;AAET;AACZ;AACA;AACA;AACA;AACA;AACA;AAEY5D,MAAAA,EAAE,EAACc,MAAM,CAACd,EAVD;AAWTC,MAAAA,cAAc,EAACa,MAAM,CAACb,cAXb;AAYTC,MAAAA,cAAc,EAACY,MAAM,CAACZ,cAZb;AAaTC,MAAAA,YAAY,EAACW,MAAM,CAACX,YAbX;AAcTC,MAAAA,oBAAoB,EAACU,MAAM,CAACV,oBAdnB;AAeTC,MAAAA,gBAAgB,EAACS,MAAM,CAACT,gBAff;AAgBTC,MAAAA,iBAAiB,EAACQ,MAAM,CAACR;AACzB;;AAjBS,KAAb;AAmBA2B,IAAAA,OAAO,CAACC,GAAR,CAAY0B,IAAZ;AACA,UAAM3C,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAhB;AACA,UAAMrB,EAAE,GAAGiB,OAAO,CAACK,KAAR,CAActB,EAAzB;AACA,UAAMuB,KAAK,GAAGN,OAAO,CAACK,KAAR,CAAcC,KAA5B;;AAEA,QAAG8B,YAAY,KAAKE,aAApB,EACA;AACInB,MAAAA,KAAK,CAAC,8BAAD,CAAL;AACH,KAHD,MAKA;AACIZ,MAAAA,KAAK,CAAE,wCAAwCxB,EAA1C,EAA+C;AAChD0B,QAAAA,MAAM,EAAC,MADyC;AAEhDmC,QAAAA,IAAI,EAAE3C,IAAI,CAAC4C,SAAL,CAAeF,IAAf,CAF0C;AAGhDjC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,4BAAkBJ;AAFb;AAHuC,OAA/C,CAAL,CAOGK,IAPH,CAOSC,SAAD,IAAe;AACnBA,QAAAA,SAAS,CAACC,IAAV,GAAiBF,IAAjB,CAAuBG,MAAD,IAAY;AAC9BE,UAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;;AAEA,cAAGA,MAAM,CAACC,IAAV,EACA;AACII,YAAAA,KAAK,CAACL,MAAM,CAACM,IAAR,CAAL;AACH,WAHD,MAKA;AACI,gBAAG,CAACN,MAAM,CAACR,KAAX,EACA;AACIX,cAAAA,SAAS,CAACuB,IAAV,CAAe,QAAf;AACAC,cAAAA,KAAK,CAAC,4BAAD,CAAL;AACH,aAJD,MAMA;AACIA,cAAAA,KAAK,CAACL,MAAM,CAACM,IAAR,CAAL;AACH;AACJ;AACJ,SAnBD;AAoBH,OA5BD;AA6BH;;AAEDJ,IAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AAEH,GApED;;AAwEA,QAAMwB,iBAAiB,GAAIL,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AAGA,UAAMC,IAAI,GAAG;AACT5D,MAAAA,EAAE,EAACuC,MADM;AAETtC,MAAAA,cAAc,EAACwC,QAFN;AAGTvC,MAAAA,cAAc,EAACyC,YAHN;AAITxC,MAAAA,YAAY,EAAC0C,OAJJ;AAKTzC,MAAAA,oBAAoB,EAAC+C,UALZ;AAMT9C,MAAAA,gBAAgB,EAAC0C,SANR;AAOTzC,MAAAA,iBAAiB,EAAC2C,UAPT;AAQT1C,MAAAA,aAAa,EAAC8C;AARL,KAAb;;AAUA,QAAGA,YAAY,KAAKE,aAApB,EACA;AACInB,MAAAA,KAAK,CAAC,8BAAD,CAAL;AACH,KAHD,MAKA;AACIZ,MAAAA,KAAK,CAAC,qCAAD,EAAuC;AACxCE,QAAAA,MAAM,EAAC,MADiC;AAExCmC,QAAAA,IAAI,EAAE3C,IAAI,CAAC4C,SAAL,CAAeF,IAAf,CAFkC;AAGxCjC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAH+B,OAAvC,CAAL,CAMGC,IANH,CAMSC,SAAD,IAAe;AACnBA,QAAAA,SAAS,CAACC,IAAV,GAAiBF,IAAjB,CAAuBG,MAAD,IAAY;AAC9B,cAAGA,MAAM,CAACC,IAAV,EACA;AACII,YAAAA,KAAK,CAACL,MAAM,CAACM,IAAR,CAAL;AACAjB,YAAAA,cAAc,CAAC4C,OAAf,CAAuB,OAAvB,EAAgC9C,IAAI,CAAC4C,SAAL,CAAe;AAC3CxC,cAAAA,KAAK,EAAE;AACHC,gBAAAA,KAAK,EAAEQ,MAAM,CAACkC,UADX;AAEHC,gBAAAA,aAAa,EAAEnC,MAAM,CAAC9B,cAFnB;AAGHD,gBAAAA,EAAE,EAAE+B,MAAM,CAAC/B;AACX;;AAJG;AADoC,aAAf,CAAhC;AAQAY,YAAAA,SAAS,CAACuB,IAAV,CAAe,qBAAf;AACH,WAZD,MAcA;AACIC,YAAAA,KAAK,CAACL,MAAM,CAACM,IAAR,CAAL;AACD;AACF;AACJ,SAnBD;AAoBH,OA3BD;AA4BH;AACJ,GAjDD;;AAmDA,sBACI,uDACI;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADJ,eAEI;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAqC,IAAA,YAAY,EAAC,KAAlD;AAAwD,IAAA,UAAU,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,eAGI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKxB,KAAK,gBACF;AAAO,IAAA,QAAQ,EAAG6C,CAAD,IAAOlB,SAAS,CAACkB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAjC;AAAmD,IAAA,KAAK,EAAE7B,MAA1D;AACI,IAAA,IAAI,EAAC,QADT;AACkB,IAAA,SAAS,EAAC,cAD5B;AAC2C,IAAA,EAAE,EAAC,WAD9C;AAC0D,IAAA,WAAW,EAAC,kBADtE;AACyF,IAAA,QAAQ,MADjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,gBAGA;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,cAA/B;AAA8C,IAAA,EAAE,EAAC,WAAjD;AAA6D,IAAA,WAAW,EAAC,kBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6FzB,MAAM,CAACd,EAApG,CAJV,CAHJ,eAYI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAZJ,eAaI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKa,KAAK,gBACF;AAAO,IAAA,QAAQ,EAAG6C,CAAD,IAAOhB,WAAW,CAACgB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAnC;AAAqD,IAAA,KAAK,EAAE3B,QAA5D;AACI,IAAA,IAAI,EAAC,MADT;AACgB,IAAA,SAAS,EAAC,cAD1B;AACyC,IAAA,EAAE,EAAC,QAD5C;AACqD,IAAA,WAAW,EAAC,iBADjE;AACmF,IAAA,QAAQ,MAD3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,gBAGD;AAAO,IAAA,QAAQ,EAAGiB,CAAD,IAAO3C,SAAS,CAAC;AAACd,MAAAA,cAAc,EAAEyD,CAAC,CAACS,MAAF,CAASC;AAA1B,KAAD,CAAjC;AAAsE,IAAA,KAAK,EAAEtD,MAAM,CAACb,cAApF;AACG,IAAA,IAAI,EAAC,MADR;AACe,IAAA,SAAS,EAAC,cADzB;AACwC,IAAA,EAAE,EAAC,QAD3C;AACoD,IAAA,WAAW,EAAC,iBADhE;AACkF,IAAA,QAAQ,MAD1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJT,CAbJ,eAuBI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAvBJ,eAwBI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKY,KAAK,gBACF;AAAQ,IAAA,QAAQ,EAAG6C,CAAD,IAAOd,eAAe,CAACc,CAAC,CAACS,MAAF,CAASC,KAAV,CAAxC;AAA0D,IAAA,KAAK,EAAEzB,YAAjE;AACQ,IAAA,SAAS,EAAC,aADlB;AACgC,IAAA,EAAE,EAAC,OADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAGI;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHJ,CADE,gBAMD;AAAQ,IAAA,QAAQ,EAAGe,CAAD,IAAOd,eAAe,CAACc,CAAC,CAACS,MAAF,CAASC,KAAV,CAAxC;AAA0D,IAAA,KAAK,EAAEtD,MAAM,CAACZ,cAAxE;AACO,IAAA,SAAS,EAAC,aADjB;AAC+B,IAAA,EAAE,EAAC,OADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEG;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFH,eAGG;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHH,CAPT,CAxBJ,eAwCI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAxCJ,eAyCI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKW,KAAK,gBACF;AAAQ,IAAA,QAAQ,EAAG6C,CAAD,IAAOZ,UAAU,CAACY,CAAC,CAACS,MAAF,CAASC,KAAV,CAAnC;AAAqD,IAAA,KAAK,EAAEvB,OAA5D;AACQ,IAAA,SAAS,EAAC,aADlB;AACgC,IAAA,EAAE,EAAC,MADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,eAGI;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,CADE,gBAOD;AAAQ,IAAA,QAAQ,EAAGa,CAAD,IAAOZ,UAAU,CAACY,CAAC,CAACS,MAAF,CAASC,KAAV,CAAnC;AAAqD,IAAA,KAAK,EAAEtD,MAAM,CAACX,YAAnE;AACO,IAAA,SAAS,EAAC,aADjB;AAC+B,IAAA,EAAE,EAAC,MADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEG;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFH,eAGG;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,eAIG;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJH,CART,CAzCJ,eA2DI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3DJ,eA4DI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMU,KAAK,gBACH;AAAO,IAAA,QAAQ,EAAG6C,CAAD,IAAOV,YAAY,CAACU,CAAC,CAACS,MAAF,CAASC,KAAV,CAApC;AAAsD,IAAA,KAAK,EAAErB,SAA7D;AACI,IAAA,IAAI,EAAC,QADT;AACkB,IAAA,SAAS,EAAC,cAD5B;AAC2C,IAAA,EAAE,EAAC,UAD9C;AAC0D,IAAA,WAAW,EAAC,UADtE;AACiF,IAAA,QAAQ,MADzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,gBAGD;AAAO,IAAA,QAAQ,EAAGW,CAAD,IAAOV,YAAY,CAACU,CAAC,CAACS,MAAF,CAASC,KAAV,CAApC;AAAsD,IAAA,KAAK,EAAEtD,MAAM,CAACT,gBAApE;AACE,IAAA,IAAI,EAAC,QADP;AACgB,IAAA,SAAS,EAAC,cAD1B;AACyC,IAAA,EAAE,EAAC,UAD5C;AACwD,IAAA,WAAW,EAAC,UADpE;AAC+E,IAAA,QAAQ,MADvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJV,CA5DJ,eAsEI;AAAO,IAAA,OAAO,EAAC,qBAAf;AAAqC,IAAA,SAAS,EAAC,+BAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAtEJ,eAuEI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKQ,KAAK,gBACF;AAAO,IAAA,QAAQ,EAAG6C,CAAD,IAAOR,aAAa,CAACQ,CAAC,CAACS,MAAF,CAASC,KAAV,CAArC;AAAuD,IAAA,KAAK,EAAEnB,UAA9D;AACI,IAAA,IAAI,EAAC,MADT;AACgB,IAAA,SAAS,EAAC,cAD1B;AACyC,IAAA,EAAE,EAAC,WAD5C;AACwD,IAAA,WAAW,EAAC,WADpE;AACgF,IAAA,QAAQ,MADxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,gBAGD;AAAO,IAAA,QAAQ,EAAGS,CAAD,IAAOR,aAAa,CAACQ,CAAC,CAACS,MAAF,CAASC,KAAV,CAArC;AAAuD,IAAA,KAAK,EAAEtD,MAAM,CAACR,iBAArE;AACG,IAAA,IAAI,EAAC,MADR;AACe,IAAA,SAAS,EAAC,cADzB;AACwC,IAAA,EAAE,EAAC,WAD3C;AACuD,IAAA,WAAW,EAAC,WADnE;AAC+E,IAAA,QAAQ,MADvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJT,CAvEJ,eAiFI;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjFJ,eAkFI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKO,KAAK,gBACF;AAAQ,IAAA,QAAQ,EAAG6C,CAAD,IAAON,aAAa,CAACM,CAAC,CAACS,MAAF,CAASC,KAAV,CAAtC;AAAwD,IAAA,KAAK,EAAEjB,UAA/D;AACQ,IAAA,SAAS,EAAC,aADlB;AACgC,IAAA,EAAE,EAAC,cADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,eAGI;AAAQ,IAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CADE,gBAMD;AAAQ,IAAA,QAAQ,EAAGO,CAAD,IAAON,aAAa,CAACM,CAAC,CAACS,MAAF,CAASC,KAAV,CAAtC;AAAwD,IAAA,KAAK,EAAEtD,MAAM,CAACV,oBAAtE;AACO,IAAA,SAAS,EAAC,aADjB;AAC+B,IAAA,EAAE,EAAC,cADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEG;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFH,eAGG;AAAQ,IAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHH,CAPT,CAlFJ,EAkGKS,KAAK,gBACF,uDACI;AAAO,IAAA,OAAO,EAAC,qBAAf;AAAqC,IAAA,IAAI,EAAG,UAA5C;AAAuD,IAAA,SAAS,EAAC,+BAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAEI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,QAAQ,EAAG6C,CAAD,IAAOJ,eAAe,CAACI,CAAC,CAACS,MAAF,CAASC,KAAV,CAAvC;AAAyD,IAAA,KAAK,EAAEf,YAAhE;AACI,IAAA,IAAI,EAAC,UADT;AACoB,IAAA,SAAS,EAAC,cAD9B;AAC6C,IAAA,EAAE,EAAC,WADhD;AAC4D,IAAA,WAAW,EAAC,YADxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAFJ,eAMI;AAAO,IAAA,OAAO,EAAC,qBAAf;AAAsC,IAAA,SAAS,EAAC,+BAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANJ,eAOI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,QAAQ,EAAGK,CAAD,IAAOF,gBAAgB,CAACE,CAAC,CAACS,MAAF,CAASC,KAAV,CAAxC;AAA0D,IAAA,KAAK,EAAEb,aAAjE;AACQ,IAAA,IAAI,EAAC,UADb;AACwB,IAAA,SAAS,EAAC,cADlC;AACiD,IAAA,EAAE,EAAC,WADpD;AACgE,IAAA,WAAW,EAAC,aAD5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,CADE,gBAaD,yCA/GT,eAiHI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI1C,KAAK,gBACL;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,IAAI,EAAC,QAAhD;AAA0D,IAAA,cAAc,EAAEkD,iBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADK,gBAEJ;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,IAAI,EAAC,QAAhD;AAA0D,IAAA,cAAc,EAAEN,sBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJL,CAjHJ,CAFJ,CADJ;AA+HH","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nimport '../../pages/Login/login'\r\n\r\n\r\nconst initialFieldValues = \r\n{\r\n    id: '',\r\n    nombre_usuario: '',\r\n    tipo_documento: '',\r\n    sexo_usuario: '',\r\n    nacionalidad_usuario: '',\r\n    telefono_usuario: '',\r\n    direccion_usuario: '',\r\n    clave_usuario: ''\r\n}\r\n\r\n\r\nconst   url = window.location.href;\r\n    const navigator = useHistory();\r\n    let crear = false;\r\n    const [values, setValues] = useState(initialFieldValues);\r\n\r\n\r\n    if(url.includes('crear/usuario'))\r\n    {\r\n        crear = true\r\n    }\r\n    else\r\n    {\r\n        crear = false;\r\n        const valores =  JSON.parse(sessionStorage.getItem('login'));\r\n        const id = valores.datos.id;\r\n        const token = valores.datos.token;\r\n\r\n        fetch('http://localhost:5000/users/' + id.toString(), {\r\n            method: 'GET',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                'x-access-token': token\r\n            }\r\n        }).then((respuesta) => {\r\n            respuesta.json().then((result) => {\r\n                if(result.Auth)\r\n                {           \r\n                    console.log(result.datos); \r\n                    values.id = result.datos.id;\r\n                    values.nombre_usuario = result.datos.nombre_usuario;\r\n                    values.tipo_documento = result.datos.tipo_documento;\r\n                    values.sexo_usuario = result.datos.sexo_usuario;\r\n                    values.nacionalidad_usuario = result.datos.nacionalidad_usuario;\r\n                    values.telefono_usuario = result.datos.telefono_usuario;\r\n                    values.direccion_usuario = result.datos.direccion_usuario;\r\n                    values.clave_usuario = result.datos.clave_usuario;\r\n\r\n                }\r\n                else\r\n                {\r\n                    if(!result.token)\r\n                    {\r\n                        navigator.push('/login');\r\n                        alert(\"El tiempo de sesion expiro\");\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n    \r\n\r\nexport default function UserCreate (){\r\n\r\n \r\n\r\n    \r\n\r\n    const [userid, setUserId] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [userdocument, setUserDocument] = useState('');\r\n    const [usersex, setUserSex] = useState('');\r\n    const [userphone, setUserPhone] = useState('');\r\n    const [useraddres, setUserAddres] = useState('');\r\n    const [usersource, setUserSource] = useState('');\r\n    const [userpassword, setUserPassword] = useState('');\r\n    const [userpassword2, setUserPassword2] = useState('');\r\n\r\n    \r\n    \r\n    const handleSubmitActualizar = (e) =>\r\n    {\r\n        e.preventDefault();\r\n        \r\n        \r\n        const data = {\r\n            \r\n            /* id:userid,\r\n            nombre_usuario:username,\r\n            tipo_documento:userdocument,\r\n            sexo_usuario:usersex,\r\n            nacionalidad_usuario:usersource,\r\n            telefono_usuario:userphone,\r\n            direccion_usuario:useraddres */\r\n\r\n            id:values.id,\r\n            nombre_usuario:values.nombre_usuario,\r\n            tipo_documento:values.tipo_documento,\r\n            sexo_usuario:values.sexo_usuario,\r\n            nacionalidad_usuario:values.nacionalidad_usuario,\r\n            telefono_usuario:values.telefono_usuario,\r\n            direccion_usuario:values.direccion_usuario,\r\n            /* clave_usuario:userpassword */\r\n        };\r\n        console.log(data);\r\n        const valores = JSON.parse(sessionStorage.getItem('login'));\r\n        const id = valores.datos.id;\r\n        const token = valores.datos.token;\r\n\r\n        if(userpassword !== userpassword2)\r\n        {\r\n            alert(\"Las contraseñas no coinciden\")\r\n        }\r\n        else \r\n        {\r\n            fetch(('http://localhost:5000/users/update/' + id) ,{\r\n                method:'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-access-token': token\r\n                }\r\n            }).then((respuesta) => {\r\n                respuesta.json().then((result) => {\r\n                    console.log(result)\r\n                    \r\n                    if(result.Auth)\r\n                    {\r\n                        alert(result.done);\r\n                    }\r\n                    else\r\n                    {\r\n                        if(!result.token)\r\n                        {\r\n                            navigator.push('/login');\r\n                            alert(\"El tiempo de sesion expiro\");\r\n                        }\r\n                        else\r\n                        {\r\n                            alert(result.done);\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        \r\n        console.log(userid);\r\n\r\n    }\r\n\r\n    \r\n\r\n    const HandleSubmitCrear = (e) => {\r\n        e.preventDefault();\r\n        \r\n        \r\n        const data = {\r\n            id:userid,\r\n            nombre_usuario:username,\r\n            tipo_documento:userdocument,\r\n            sexo_usuario:usersex,\r\n            nacionalidad_usuario:usersource,\r\n            telefono_usuario:userphone,\r\n            direccion_usuario:useraddres,\r\n            clave_usuario:userpassword\r\n        };\r\n        if(userpassword !== userpassword2)\r\n        {\r\n            alert(\"Las contraseñas no coinciden\")\r\n        }\r\n        else \r\n        {\r\n            fetch('http://localhost:5000/users/agregar',{\r\n                method:'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then((respuesta) => {\r\n                respuesta.json().then((result) => {\r\n                    if(result.Auth)\r\n                    {\r\n                        alert(result.done);\r\n                        sessionStorage.setItem('login', JSON.stringify({\r\n                            datos: {\r\n                                token: result.succesfull,\r\n                                nombreUsuario: result.nombre_usuario,\r\n                                id: result.id,\r\n                                /* password: userpassword */\r\n                            }\r\n                        }));\r\n                        navigator.push('/dashboard/overview');\r\n                    }\r\n                    else\r\n                    {\r\n                        alert(result.done);\r\n                       /*  navigator.push('/crear/usuario'); */\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2 className='titulo'>Formulario de ingreso de usuarios</h2>\r\n            <form className=\"row g-3 formulario\" autoComplete=\"off\" noValidate>\r\n\r\n                <label className=\"form-label col-sm-4 labelForm\">Numero de documento</label>\r\n                <div className=\"col-md-8 listaOpciones\">\r\n                    {crear ?\r\n                        <input onChange={(e) => setUserId(e.target.value)} value={userid} \r\n                            type=\"number\" className=\"form-control\" id=\"documento\" placeholder=\"Nro de documento\" required/>\r\n                        : <label type=\"number\" className=\"form-control\" id=\"documento\" placeholder=\"Nro de documento\">{values.id}</label>\r\n                    }\r\n                </div>\r\n\r\n                \r\n                <label className=\"form-label col-sm-4 labelForm\">Nombres</label>\r\n                <div className=\"col-md-8\">\r\n                    {crear ?\r\n                        <input onChange={(e) => setUsername(e.target.value)} value={username}  \r\n                            type=\"text\" className=\"form-control\" id=\"nombre\" placeholder=\"Nombre completo\" required/>\r\n                        :<input onChange={(e) => setValues({nombre_usuario: e.target.value} )} value={values.nombre_usuario}  \r\n                            type=\"text\" className=\"form-control\" id=\"nombre\" placeholder=\"Nombre completo\" required />\r\n                    } \r\n                </div>\r\n\r\n                \r\n                <label className=\"form-label col-sm-4 labelForm\">Tipo de documento</label>\r\n                <div className=\"col-md-8 listaOpciones\">\r\n                    {crear ?\r\n                        <select onChange={(e) => setUserDocument(e.target.value)} value={userdocument} \r\n                                className=\"form-select\" id=\"tipoD\" >\r\n                            <option value='CC'>Cedula de Ciudadania</option>\r\n                            <option value='TI'>Tarjeta de Identidad</option>\r\n                        </select>\r\n                        :<select onChange={(e) => setUserDocument(e.target.value)} value={values.tipo_documento} \r\n                                className=\"form-select\" id=\"tipoD\" >\r\n                            <option value=\"CC\">Cedula de Ciudadania</option>\r\n                            <option value=\"TI\">Tarjeta de Identidad</option>\r\n                        </select>\r\n                    }\r\n                </div>\r\n\r\n                \r\n                <label className=\"form-label col-sm-4 labelForm\">Sexo</label>\r\n                <div className=\"col-md-8 listaOpciones\">\r\n                    {crear ?\r\n                        <select onChange={(e) => setUserSex(e.target.value)} value={usersex} \r\n                                className=\"form-select\" id=\"sexo\" >\r\n                            <option value=\"M\">Masculino</option>\r\n                            <option value=\"F\">Femenino</option>\r\n                            <option value=\"O\">Otro</option>\r\n                        </select>\r\n                        :<select onChange={(e) => setUserSex(e.target.value)} value={values.sexo_usuario} \r\n                                className=\"form-select\" id=\"sexo\" >\r\n                            <option value=\"M\">Masculino</option>\r\n                            <option value=\"F\">Femenino</option>\r\n                            <option value=\"O\">Otro</option>\r\n                        </select>\r\n                    }\r\n                </div>\r\n\r\n                \r\n                <label className=\"form-label col-sm-4 labelForm\">Telefono</label>\r\n                <div className=\"col-md-8 listaOpciones\">\r\n                    { crear ?\r\n                        <input onChange={(e) => setUserPhone(e.target.value)} value={userphone} \r\n                            type=\"number\" className=\"form-control\" id=\"telefono\"  placeholder=\"Telefono\" required/>\r\n                        : <input onChange={(e) => setUserPhone(e.target.value)} value={values.telefono_usuario} \r\n                            type=\"number\" className=\"form-control\" id=\"telefono\"  placeholder=\"Telefono\" required/>\r\n                    }\r\n                </div>\r\n\r\n                \r\n                <label htmlFor=\"validationDefault03\" className=\"form-label col-sm-4 labelForm\">Direccion</label>\r\n                <div className=\"col-md-8 \">\r\n                    {crear ?\r\n                        <input onChange={(e) => setUserAddres(e.target.value)} value={useraddres} \r\n                            type=\"text\" className=\"form-control\" id=\"direccion\" placeholder=\"Direccion\" required/>\r\n                        :<input onChange={(e) => setUserAddres(e.target.value)} value={values.direccion_usuario} \r\n                            type=\"text\" className=\"form-control\" id=\"direccion\" placeholder=\"Direccion\" required/>\r\n                    }\r\n                </div>\r\n\r\n                \r\n                <label className=\"form-label col-sm-4 labelForm\">Nacionalidad</label>\r\n                <div className=\"col-md-8 listaOpciones\">\r\n                    {crear ?\r\n                        <select onChange={(e) => setUserSource(e.target.value)} value={usersource} \r\n                                className=\"form-select\" id=\"nacionalidad\" >\r\n                            <option value=\"Colombia\">Colombiano(a)</option>\r\n                            <option value=\"Extranjero\">Extranjero(a)</option>\r\n                        </select>\r\n                        :<select onChange={(e) => setUserSource(e.target.value)} value={values.nacionalidad_usuario} \r\n                                className=\"form-select\" id=\"nacionalidad\" >\r\n                            <option value=\"Colombia\">Colombiano(a)</option>\r\n                            <option value=\"Extranjero\">Extranjero(a)</option>\r\n                        </select>\r\n                    }\r\n                </div>\r\n\r\n                                                \r\n                {crear ?\r\n                    <>\r\n                        <label htmlFor=\"validationDefault03\" type = \"password\" className=\"form-label col-sm-4 labelForm\">Crea una Contraseña</label>\r\n                        <div className=\"col-md-8\">\r\n                        <input onChange={(e) => setUserPassword(e.target.value)} value={userpassword} \r\n                            type=\"password\" className=\"form-control\" id=\"direccion\" placeholder=\"Contrasena\"/>\r\n                        </div>\r\n                        <label htmlFor=\"validationDefault03\"  className=\"form-label col-sm-4 labelForm\">Repite Contreseña</label>\r\n                        <div className=\"col-md-8\">\r\n                            <input onChange={(e) => setUserPassword2(e.target.value)} value={userpassword2} \r\n                                    type=\"password\" className=\"form-control\" id=\"direccion\" placeholder=\"Contrasena2\"/>\r\n                        </div>\r\n                    </>\r\n                    :<></>\r\n                }\r\n                <div className=\"col-12 divBoton\">\r\n                {\r\n                    crear?\r\n                    <button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={HandleSubmitCrear}>Crear Usuario</button>\r\n                    :<button className=\"btn btn-primary boton \" type=\"submit\"  onClickCapture={handleSubmitActualizar}>Actualizar Datos</button>\r\n                }\r\n                </div>\r\n\r\n            </form>\r\n        </>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}