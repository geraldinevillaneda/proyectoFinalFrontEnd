'use strict';
<<<<<<< HEAD
module.exports = function (str) {
	if (typeof str !== 'string') {
		throw new TypeError('Expected a string');
	}

	var newlines = (str.match(/(?:\r?\n)/g) || []);

	if (newlines.length === 0) {
		return null;
	}

	var crlf = newlines.filter(function (el) {
		return el === '\r\n';
	}).length;

	var lf = newlines.length - crlf;
=======

const detectNewline = string => {
	if (typeof string !== 'string') {
		throw new TypeError('Expected a string');
	}

	const newlines = string.match(/(?:\r?\n)/g) || [];

	if (newlines.length === 0) {
		return;
	}

	const crlf = newlines.filter(newline => newline === '\r\n').length;
	const lf = newlines.length - crlf;
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f

	return crlf > lf ? '\r\n' : '\n';
};

<<<<<<< HEAD
module.exports.graceful = function (str) {
	return module.exports(str) || '\n';
};
=======
module.exports = detectNewline;
module.exports.graceful = string => (typeof string === 'string' && detectNewline(string)) || '\n';
>>>>>>> b459a022f47e1c55fb538e6c6b01f47908ccd92f
